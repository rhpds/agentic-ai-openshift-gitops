---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: rhoai
  namespace: openshift-gitops
spec:
  project: default
  source:
    repoURL: https://github.com/rhpds/ocp-cluster-addons
    targetRevision: main
    path: rhoai
    helm:
      values: |
        operator:
          channel: fast-3.x
          installPlanApproval: Manual
        datasciencecluster:
          apiVersion: datasciencecluster.opendatahub.io/v2
          components:
            aipipelines:
              argoWorkflowsControllers:
                managementState: Removed
              managementState: Removed
            dashboard:
              managementState: Managed
            feastoperator:
              managementState: Removed
            kserve:
              managementState: Managed
            kueue:
              managementState: Removed
            llamastackoperator:
              managementState: Managed
            modelregistry:
              managementState: Removed
            ray:
              managementState: Removed
            trainingoperator:
              managementState: Removed
            trustyai:
              managementState: Removed
            workbenches:
              managementState: Managed
        patcher:
          dashboard:
            replicas: 1
          route: {{ .Values.rhoai.patcher.route }}
        helper-status-checker:
          approver: true
  destination:
    server: https://kubernetes.default.svc
  syncPolicy:
    automated: {}
